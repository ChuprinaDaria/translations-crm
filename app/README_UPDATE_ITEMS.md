# –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –∑ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç—Ä–∞–≤ –º–µ–Ω—é –∑ —Ñ–∞–π–ª—É

## –§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª—É

### CSV —Ñ–æ—Ä–º–∞—Ç

–§–∞–π–ª –ø–æ–≤–∏–Ω–µ–Ω –º–∞—Ç–∏ —Ñ–æ—Ä–º–∞—Ç CSV –∑ —Ç–∞–∫–∏–º–∏ –∫–æ–ª–æ–Ω–∫–∞–º–∏:

```csv
name,category,subcategory,price
–ù—ñ–∂–Ω–µ —Ñ—ñ–ª–µ —Å–ª–∞–±–æ—Å–æ–ª–µ–Ω–æ–≥–æ –ª–æ—Å–æ—Å—è –∑ –æ–ª—ñ—é —Ç–∞ –∫—Ä—ñ–ø–æ–º,–•–æ–ª–æ–¥–Ω—ñ —Ä–∏–±–Ω—ñ –∑–∞–∫—É—Å–∫–∏,–•–æ–ª–æ–¥–Ω—ñ —Ä–∏–±–Ω—ñ –∑–∞–∫—É—Å–∫–∏,865.00
–ü—Ä–∏–∫–ª–∞–¥ —Å—Ç—Ä–∞–≤–∏ 2,–•–æ–ª–æ–¥–Ω—ñ –∑–∞–∫—É—Å–∫–∏,–ú'—è—Å–Ω—ñ –∑–∞–∫—É—Å–∫–∏,450.50
–ü—Ä–∏–∫–ª–∞–¥ —Å—Ç—Ä–∞–≤–∏ 3,–°–∞–ª–∞—Ç–∏,–û–≤–æ—á–µ–≤—ñ —Å–∞–ª–∞—Ç–∏,320.00
```

**–ö–æ–ª–æ–Ω–∫–∏:**
- `name` (–Ω–∞–∑–≤–∞ —Å—Ç—Ä–∞–≤–∏) - **–æ–±–æ–≤'—è–∑–∫–æ–≤–æ**, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –ø–æ—à—É–∫—É —Å—Ç—Ä–∞–≤–∏ –≤ –±–∞–∑—ñ
- `category` (–∫–∞—Ç–µ–≥–æ—Ä—ñ—è) - –æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ, –±—É–¥–µ —Å—Ç–≤–æ—Ä–µ–Ω–∞ —è–∫—â–æ –Ω–µ —ñ—Å–Ω—É—î
- `subcategory` (–ø—ñ–¥–∫–∞—Ç–µ–≥–æ—Ä—ñ—è) - –æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ, –±—É–¥–µ —Å—Ç–≤–æ—Ä–µ–Ω–∞ —è–∫—â–æ –Ω–µ —ñ—Å–Ω—É—î (–≤ –º–µ–∂–∞—Ö –≤–∫–∞–∑–∞–Ω–æ—ó –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó)
- `price` (—Ü—ñ–Ω–∞) - –æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ, —á–∏—Å–ª–æ (–º–æ–∂–µ –±—É—Ç–∏ –∑ –∫–æ–º–æ—é –∞–±–æ –∫—Ä–∞–ø–∫–æ—é)

**–ü—Ä–∏–º—ñ—Ç–∫–∏:**
- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–µ –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π, –∞–ª–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è
- –ù–∞–∑–≤–∏ –∫–æ–ª–æ–Ω–æ–∫ –º–æ–∂—É—Ç—å –±—É—Ç–∏ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é: `–Ω–∞–∑–≤–∞ —Å—Ç—Ä–∞–≤–∏,–∫–∞—Ç–µ–≥–æ—Ä—ñ—è,–ø—ñ–¥–∫–∞—Ç–µ–≥–æ—Ä—ñ—è,—Ü—ñ–Ω–∞`
- –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –Ω–∞–∑–≤ —Å—Ç—Ä–∞–≤ –Ω–µ—á—É—Ç–ª–∏–≤–µ –¥–æ —Ä–µ–≥—ñ—Å—Ç—Ä—É
- –¶—ñ–Ω—É –º–æ–∂–Ω–∞ –≤–∫–∞–∑—É–≤–∞—Ç–∏ –∑ –∫–æ–º–æ—é (865,00) –∞–±–æ –∫—Ä–∞–ø–∫–æ—é (865.00)

### Excel —Ñ–æ—Ä–º–∞—Ç

Excel —Ñ–∞–π–ª –º–∞—î —Ç–∞–∫—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É:
- **–ü–µ—Ä—à–∏–π —Ä—è–¥–æ–∫ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ):** –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∑ –Ω–∞–∑–≤–∞–º–∏ –∫–æ–ª–æ–Ω–æ–∫
- **–ö–æ–ª–æ–Ω–∫–∞ A:** –Ω–∞–∑–≤–∞ —Å—Ç—Ä–∞–≤–∏
- **–ö–æ–ª–æ–Ω–∫–∞ B:** –∫–∞—Ç–µ–≥–æ—Ä—ñ—è
- **–ö–æ–ª–æ–Ω–∫–∞ C:** –ø—ñ–¥–∫–∞—Ç–µ–≥–æ—Ä—ñ—è
- **–ö–æ–ª–æ–Ω–∫–∞ D:** —Ü—ñ–Ω–∞

## –Ø–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏

### 1. –ü—ñ–¥–≥–æ—Ç—É–π—Ç–µ —Ñ–∞–π–ª

–°—Ç–≤–æ—Ä—ñ—Ç—å CSV –∞–±–æ Excel —Ñ–∞–π–ª –∑ –¥–∞–Ω–∏–º–∏ –ø—Ä–æ —Å—Ç—Ä–∞–≤–∏. –ü—Ä–∏–∫–ª–∞–¥ CSV —Ñ–∞–π–ª—É –¥–∏–≤—ñ—Ç—å—Å—è –≤ `example_items_update.csv`.

### 2. –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Å–∫—Ä–∏–ø—Ç

**–ë–∞–∑–æ–≤–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:**
```bash
cd /home/dchuprina/–∫–∞—Ñ–µ/app
python update_items_from_file.py path/to/your_file.csv
```

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –±–µ–∑ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è (dry-run):**
```bash
python update_items_from_file.py path/to/your_file.csv --dry-run
```

**Excel —Ñ–∞–π–ª:**
```bash
python update_items_from_file.py path/to/your_file.xlsx
```

### 3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏

–°–∫—Ä–∏–ø—Ç –≤–∏–≤–µ–¥–µ:
- ‚úÖ –Ø–∫—ñ —Å—Ç—Ä–∞–≤–∏ –±—É–ª–∏ –æ–Ω–æ–≤–ª–µ–Ω—ñ —Ç–∞ —â–æ –∑–º—ñ–Ω–∏–ª–æ—Å—å
- ‚ùå –Ø–∫—ñ —Å—Ç—Ä–∞–≤–∏ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω—ñ –≤ –±–∞–∑—ñ
- ‚ûï –Ø–∫—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó/–ø—ñ–¥–∫–∞—Ç–µ–≥–æ—Ä—ñ—ó –±—É–ª–∏ —Å—Ç–≤–æ—Ä–µ–Ω—ñ
- üìä –ó–∞–≥–∞–ª—å–Ω—É —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –æ–ø–µ—Ä–∞—Ü—ñ—ó

## –Ø–∫ –ø—Ä–∞—Ü—é—î —Å–∫—Ä–∏–ø—Ç

1. **–ü–æ—à—É–∫ —Å—Ç—Ä–∞–≤–∏** - –ø–æ—Ä—ñ–≤–Ω—é—î –Ω–∞–∑–≤–∏ –Ω–µ—á—É—Ç–ª–∏–≤–æ –¥–æ —Ä–µ–≥—ñ—Å—Ç—Ä—É
2. **–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–∞—Ç–µ–≥–æ—Ä—ñ–π** - —è–∫—â–æ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è –Ω–µ —ñ—Å–Ω—É—î, –≤–æ–Ω–∞ –±—É–¥–µ —Å—Ç–≤–æ—Ä–µ–Ω–∞
3. **–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—ñ–¥–∫–∞—Ç–µ–≥–æ—Ä—ñ–π** - —è–∫—â–æ –ø—ñ–¥–∫–∞—Ç–µ–≥–æ—Ä—ñ—è –Ω–µ —ñ—Å–Ω—É—î, –≤–æ–Ω–∞ –±—É–¥–µ —Å—Ç–≤–æ—Ä–µ–Ω–∞ –≤ –º–µ–∂–∞—Ö –≤–∫–∞–∑–∞–Ω–æ—ó –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó
4. **–û–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö:**
   - –¶—ñ–Ω–∞ –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è, —è–∫—â–æ –≤–æ–Ω–∞ –≤–∫–∞–∑–∞–Ω–∞ –≤ —Ñ–∞–π–ª—ñ
   - –ü—ñ–¥–∫–∞—Ç–µ–≥–æ—Ä—ñ—è –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è, —è–∫—â–æ –≤–æ–Ω–∞ –≤–∫–∞–∑–∞–Ω–∞ –≤ —Ñ–∞–π–ª—ñ
   - –Ü–Ω—à—ñ –ø–æ–ª—è –Ω–µ –∑–º—ñ–Ω—é—é—Ç—å—Å—è

## –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

–î–ª—è —Ä–æ–±–æ—Ç–∏ –∑ Excel —Ñ–∞–π–ª–∞–º–∏ –ø–æ—Ç—Ä—ñ–±–µ–Ω `openpyxl`:

```bash
pip install openpyxl
```

## –ü—Ä–∏–∫–ª–∞–¥–∏

### –ü—Ä–∏–∫–ª–∞–¥ 1: –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Ü—ñ–Ω —Ç–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ–π

–§–∞–π–ª `prices_update.csv`:
```csv
name,price
–°—Ç—Ä–∞–≤–∞ 1,500.00
–°—Ç—Ä–∞–≤–∞ 2,600.00
```

–ö–æ–º–∞–Ω–¥–∞:
```bash
python update_items_from_file.py prices_update.csv
```

–†–µ–∑—É–ª—å—Ç–∞—Ç: –æ–Ω–æ–≤–ª—è—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ —Ü—ñ–Ω–∏ —Å—Ç—Ä–∞–≤, –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó –∑–∞–ª–∏—à–∞—é—Ç—å—Å—è –±–µ–∑ –∑–º—ñ–Ω.

### –ü—Ä–∏–∫–ª–∞–¥ 2: –ü–æ–≤–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∑ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è–º–∏

–§–∞–π–ª `full_update.csv`:
```csv
name,category,subcategory,price
–°—Ç—Ä–∞–≤–∞ 1,–ù–æ–≤–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è,–ù–æ–≤–∞ –ø—ñ–¥–∫–∞—Ç–µ–≥–æ—Ä—ñ—è,550.00
–°—Ç—Ä–∞–≤–∞ 2,–Ü–Ω—à–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è,–Ü–Ω—à–∞ –ø—ñ–¥–∫–∞—Ç–µ–≥–æ—Ä—ñ—è,650.00
```

–†–µ–∑—É–ª—å—Ç–∞—Ç: —Å—Ç–≤–æ—Ä—è—Ç—å—Å—è –Ω–æ–≤—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó/–ø—ñ–¥–∫–∞—Ç–µ–≥–æ—Ä—ñ—ó (—è–∫—â–æ –Ω–µ —ñ—Å–Ω—É—é—Ç—å) —Ç–∞ –æ–Ω–æ–≤–ª—é—é—Ç—å—Å—è –¥–∞–Ω—ñ —Å—Ç—Ä–∞–≤.

## –í–∞–∂–ª–∏–≤–æ

‚ö†Ô∏è **–ü–µ—Ä–µ–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º:**
- –ó–∞–≤–∂–¥–∏ —Ä–æ–±—ñ—Ç—å backup –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `--dry-run` –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –ø–µ—Ä–µ–¥ —Ä–µ–∞–ª—å–Ω–∏–º –æ–Ω–æ–≤–ª–µ–Ω–Ω—è–º
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ –Ω–∞–∑–≤–∏ —Å—Ç—Ä–∞–≤ —Ç–æ—á–Ω–æ —Å–ø—ñ–≤–ø–∞–¥–∞—é—Ç—å (–ø—Ä–æ–±—ñ–ª–∏, —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª–∏)

‚ö†Ô∏è **–Ø–∫—â–æ —Å—Ç—Ä–∞–≤–∞ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–∞:**
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ —Ç–æ—á–Ω–æ —Å–ø—ñ–≤–ø–∞–¥–∞—î –Ω–∞–∑–≤–∞ (–≤–∫–ª—é—á–Ω–æ –∑ –ø—Ä–æ–±—ñ–ª–∞–º–∏)
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ —Å—Ç—Ä–∞–≤–∞ —ñ—Å–Ω—É—î –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö
- –°–∫—Ä–∏–ø—Ç –ø–æ–∫–∞–∂–µ —Å–ø–∏—Å–æ–∫ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–∏—Ö —Å—Ç—Ä–∞–≤

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–∏—Ö –≤ –±–∞–∑—ñ

**Category (–ö–∞—Ç–µ–≥–æ—Ä—ñ—è):**
- `id` - —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä
- `name` - –Ω–∞–∑–≤–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó

**Subcategory (–ü—ñ–¥–∫–∞—Ç–µ–≥–æ—Ä—ñ—è):**
- `id` - —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä
- `name` - –Ω–∞–∑–≤–∞ –ø—ñ–¥–∫–∞—Ç–µ–≥–æ—Ä—ñ—ó
- `category_id` - —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó

**Item (–°—Ç—Ä–∞–≤–∞):**
- `id` - —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä
- `name` - –Ω–∞–∑–≤–∞ —Å—Ç—Ä–∞–≤–∏ (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –ø–æ—à—É–∫—É)
- `price` - —Ü—ñ–Ω–∞
- `subcategory_id` - —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –ø—ñ–¥–∫–∞—Ç–µ–≥–æ—Ä—ñ—ó
- `weight` - –≤–∞–≥–∞
- `unit` - –æ–¥–∏–Ω–∏—Ü—è –≤–∏–º—ñ—Ä—É
- `description` - –æ–ø–∏—Å
- `active` - —á–∏ –∞–∫—Ç–∏–≤–Ω–∞ —Å—Ç—Ä–∞–≤–∞

**Recipe (–¢–µ—Ö–∫–∞—Ä—Ç–∞):**
- `id` - —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä
- `name` - –Ω–∞–∑–≤–∞ —Å—Ç—Ä–∞–≤–∏ (–º–æ–∂–µ —Å–ø—ñ–≤–ø–∞–¥–∞—Ç–∏ –∑ Item.name)
- `category` - —Ç–µ–∫—Å—Ç–æ–≤–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è (–ù–ï –∑–≤'—è–∑–∞–Ω–∞ –∑ Category)
- `item_id` - –æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π –∑–≤'—è–∑–æ–∫ –∑ Item

## –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–Ø–∫—â–æ –≤–∏–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º–∏:
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª—É
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∫–æ–¥—É–≤–∞–Ω–Ω—è (–º–∞—î –±—É—Ç–∏ UTF-8)
3. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –∑ `--dry-run` –¥–ª—è –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
4. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ –Ω–∞ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –ø–æ–º–∏–ª–æ–∫

