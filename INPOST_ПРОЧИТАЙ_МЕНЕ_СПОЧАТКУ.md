# ‚ö†Ô∏è InPost: –ü–†–û–ß–ò–¢–ê–ô –ú–ï–ù–ï –°–ü–û–ß–ê–¢–ö–£

## üî¥ –ü—Ä–æ–±–ª–µ–º–∞ –≤–∏—è–≤–ª–µ–Ω–∞ —Ç–∞ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–∞!

**–ü–æ–º–∏–ª–∫–∞:** `401 - Token is missing or invalid`

### –ü—Ä–∏—á–∏–Ω–∞:
–í –±–∞–∑—ñ –¥–∞–Ω–∏—Ö `api_key='124089'` - —Ü–µ **–ù–ï** JWT —Ç–æ–∫–µ–Ω, –∞ organization_id!

### ‚úÖ –ö–æ–¥ –≤–∂–µ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ (13.02.2026)

---

## üöÄ –©–û –¢–†–ï–ë–ê –ó–†–û–ë–ò–¢–ò –ó–ê–†–ê–ó (3 –∫—Ä–æ–∫–∏):

### –ö—Ä–æ–∫ 1: –û—Ç—Ä–∏–º–∞—Ç–∏ JWT —Ç–æ–∫–µ–Ω
1. –ó–∞–π–¥—ñ—Ç—å –Ω–∞ https://inpost.pl/
2. API Settings ‚Üí Organization Token
3. –°–∫–æ–ø—ñ—é–π—Ç–µ JWT —Ç–æ–∫–µ–Ω (–¥–æ–≤–≥–∏–π —Ä—è–¥–æ–∫ ~200+ —Å–∏–º–≤–æ–ª—ñ–≤)

### –ö—Ä–æ–∫ 2: –û–Ω–æ–≤–∏—Ç–∏ –≤ CRM
**–í–∞—Ä—ñ–∞–Ω—Ç A (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ):** –ß–µ—Ä–µ–∑ UI
- –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è ‚Üí InPost ‚Üí API Key ‚Üí –≤—Å—Ç–∞–≤—Ç–µ JWT —Ç–æ–∫–µ–Ω ‚Üí –ó–±–µ—Ä–µ–≥—Ç–∏

**–í–∞—Ä—ñ–∞–Ω—Ç B:** –ß–µ—Ä–µ–∑ SQL
```bash
docker exec -it crm_translations_db psql -U postgres -d crm_db -c "
UPDATE inpost_settings 
SET api_key = '–í–ê–®_JWT_–¢–û–ö–ï–ù_–°–Æ–î–ò'
WHERE id = 1;
"
```

### –ö—Ä–æ–∫ 3: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏
```bash
docker-compose restart backend
```

---

## ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞

```bash
# –î–∏–≤—ñ—Ç—å—Å—è –ª–æ–≥–∏
docker-compose logs -f backend | grep -i inpost

# –®—É–∫–∞–π—Ç–µ:
# ‚úÖ [InPost] get_api_key: Using api_key (JWT token), length: 300
# ‚úÖ [InPost] Response status: 200
```

---

## üìö –î–µ—Ç–∞–ª—å–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è:

1. **`–†–ï–ó–Æ–ú–ï_–í–ò–ü–†–ê–í–õ–ï–ù–¨_INPOST.md`** - –ø–æ–≤–Ω–µ —Ä–µ–∑—é–º–µ
2. **`–Ü–ù–°–¢–†–£–ö–¶–Ü–Ø_–í–ò–ü–†–ê–í–õ–ï–ù–ù–Ø_INPOST.md`** - –ø–æ–∫—Ä–æ–∫–æ–≤–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è
3. **`–®–í–ò–î–ö–Ü_–ö–û–ú–ê–ù–î–ò_INPOST.md`** - –∫–æ—Ä–∏—Å–Ω—ñ –∫–æ–º–∞–Ω–¥–∏
4. **`INPOST_README.md`** - –Ω–∞–≤—ñ–≥–∞—Ü—ñ—è –ø–æ –≤—Å—ñ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó

---

## üîë –©–æ —Ç–∞–∫–µ —â–æ:

- **API Key** = JWT —Ç–æ–∫–µ–Ω (–¥–æ–≤–≥–∏–π —Ä—è–¥–æ–∫ –¥–ª—è API –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó) ‚úÖ
- **Organization ID** = –ß–∏—Å–ª–æ–≤–∏–π ID (`124089`) ‚úÖ
- **Webhook Secret** = –°–µ–∫—Ä–µ—Ç –¥–ª—è webhook (–ù–ï –¥–ª—è API!) ‚ÑπÔ∏è

---

**‚ùì –ü–∏—Ç–∞–Ω–Ω—è?** –î–∏–≤—ñ—Ç—å—Å—è –ø–æ–≤–Ω—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é –≤ `–†–ï–ó–Æ–ú–ï_–í–ò–ü–†–ê–í–õ–ï–ù–¨_INPOST.md`

