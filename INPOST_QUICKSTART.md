# InPost Integration - Quick Start

## –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç –¥–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è InPost —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó

### –ö—Ä–æ–∫ 1: –ó–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ –º—ñ–≥—Ä–∞—Ü—ñ—é –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

```bash
cd /home/dchuprina/crm\ translation/translations-crm
python backend/apply_inpost_migration.py
```

–ê–±–æ –≤—Ä—É—á–Ω—É —á–µ—Ä–µ–∑ psql:
```bash
psql -U your_user -d your_database -f database/migrations/create_inpost_tables.sql
```

### –ö—Ä–æ–∫ 2: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ backend

```bash
# –Ø–∫—â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ Docker
docker-compose restart backend

# –ê–±–æ —è–∫—â–æ –∑–∞–ø—É—Å–∫–∞—î—Ç–µ –Ω–∞–ø—Ä—è–º—É
cd backend
source venv/bin/activate  # —è–∫—â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ venv
python main.py
```

### –ö—Ä–æ–∫ 3: –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ InPost –≤ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ CRM –≤ –±—Ä–∞—É–∑–µ—Ä—ñ
2. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è ‚Üí InPost**
3. –ó–∞–ø–æ–≤–Ω—ñ—Ç—å –ø–æ–ª—è:

#### –û—Å–Ω–æ–≤–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:
- ‚úÖ **–£–≤—ñ–º–∫–Ω—É—Ç–∏ InPost —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—é** - –≤—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –≥–∞–ª–æ—á–∫—É
- **Production API Key** - –≤–∞—à InPost Organization Token

#### –î–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è:
- ‚òê **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ Sandbox —Ä–µ–∂–∏–º** - —É–≤—ñ–º–∫–Ω—ñ—Ç—å –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
- **Sandbox API Key** - —Ç–µ—Å—Ç–æ–≤–∏–π –∫–ª—é—á –∑ InPost

#### Webhook (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ, –∞–ª–µ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ):
- **Webhook URL** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ø–æ–≤–Ω–µ–Ω–∏–π, —Å–∫–æ–ø—ñ—é–π—Ç–µ –π–æ–≥–æ
- **Webhook Secret** - –∑–≥–µ–Ω–µ—Ä—É–π—Ç–µ –≤–∏–ø–∞–¥–∫–æ–≤–∏–π –∫–ª—é—á (–º—ñ–Ω—ñ–º—É–º 32 —Å–∏–º–≤–æ–ª–∏)

#### –í—ñ–¥–ø—Ä–∞–≤–Ω–∏–∫ –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º:
- **–Ü–º'—è –≤—ñ–¥–ø—Ä–∞–≤–Ω–∏–∫–∞** - –Ω–∞–∑–≤–∞ –≤–∞—à–æ—ó –∫–æ–º–ø–∞–Ω—ñ—ó
- **Email –≤—ñ–¥–ø—Ä–∞–≤–Ω–∏–∫–∞** - –≤–∞—à email
- **–¢–µ–ª–µ—Ñ–æ–Ω –≤—ñ–¥–ø—Ä–∞–≤–Ω–∏–∫–∞** - —Ñ–æ—Ä–º–∞—Ç +48XXXXXXXXX

4. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **–ó–±–µ—Ä–µ–≥—Ç–∏ InPost –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è**

### –ö—Ä–æ–∫ 4: –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ Webhook –≤ InPost (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ https://manager.paczkomaty.pl/
2. –£–≤—ñ–π–¥—ñ—Ç—å –≤ —Å–≤—ñ–π Organization
3. API Settings ‚Üí Webhooks ‚Üí Add Webhook
4. –í–≤–µ–¥—ñ—Ç—å:
   - **URL**: —Å–∫–æ–ø—ñ–π–æ–≤–∞–Ω–∏–π –∑ CRM webhook URL
   - **Secret**: —Ç–æ–π —Å–∞–º–∏–π secret –∑ CRM
   - **Events**: –≤–∏–±–µ—Ä—ñ—Ç—å –≤—Å—ñ –ø–æ–¥—ñ—ó —Å—Ç–∞—Ç—É—Å—ñ–≤
5. –ó–±–µ—Ä–µ–∂—ñ—Ç—å

### –ö—Ä–æ–∫ 5: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

#### –¢–µ—Å—Ç 1: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å
```bash
curl -X GET "http://localhost:8000/api/v1/postal-services/inpost/settings" \
  -H "Authorization: Bearer YOUR_TOKEN"
```

#### –¢–µ—Å—Ç 2: –ü–æ—à—É–∫ –ø–∞—á–∫–æ–º–∞—Ç—ñ–≤
```bash
curl -X GET "http://localhost:8000/api/v1/postal-services/inpost/parcel-lockers?city=Krak√≥w" \
  -H "Authorization: Bearer YOUR_TOKEN"
```

#### –¢–µ—Å—Ç 3: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–Ω—è (Sandbox)
```bash
curl -X POST "http://localhost:8000/api/v1/postal-services/inpost/shipments" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "order_id": "YOUR_ORDER_UUID",
    "delivery_type": "parcel_locker",
    "parcel_locker_code": "KRA010",
    "receiver": {
      "email": "test@example.com",
      "phone": "+48123456789",
      "name": "Jan Kowalski"
    },
    "package_size": "small"
  }'
```

### –ì–æ—Ç–æ–≤–æ! üéâ

–¢–µ–ø–µ—Ä –≤–∏ –º–æ–∂–µ—Ç–µ:
- –°—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –¥–ª—è –∑–∞–º–æ–≤–ª–µ–Ω—å
- –í—ñ–¥—Å—Ç–µ–∂—É–≤–∞—Ç–∏ —Å—Ç–∞—Ç—É—Å –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ
- –®—É–∫–∞—Ç–∏ –Ω–∞–π–±–ª–∏–∂—á—ñ –ø–∞—á–∫–æ–º–∞—Ç–∏
- –ì–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –µ—Ç–∏–∫–µ—Ç–∫–∏
- –û—Ç—Ä–∏–º—É–≤–∞—Ç–∏ webhook –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞—Ç—É—Å—ñ–≤

### –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏

1. **–Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –≤ UI –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –∑–∞–º–æ–≤–ª–µ–Ω—å**:
   - –î–æ–¥–∞—Ç–∏ –∫–Ω–æ–ø–∫—É "–°—Ç–≤–æ—Ä–∏—Ç–∏ –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–Ω—è InPost" –≤ –¥–µ—Ç–∞–ª—è—Ö –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
   - –í—ñ–¥–æ–±—Ä–∞–∂–∞—Ç–∏ tracking number —Ç–∞ —Å—Ç–∞—Ç—É—Å
   - –î–æ–¥–∞—Ç–∏ –∫–Ω–æ–ø–∫—É "–í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ —Ç—Ä–µ–∫—ñ–Ω–≥ –∫–ª—ñ—î–Ω—Ç—É"

2. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è**:
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ø—Ä–∏ –∑–º—ñ–Ω—ñ —Å—Ç–∞—Ç—É—Å—É –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –Ω–∞–¥—Å–∏–ª–∞—Ç–∏ —Ç—Ä–µ–∫—ñ–Ω–≥ –∫–ª—ñ—î–Ω—Ç—É

3. **–ó–≤—ñ—Ç–Ω—ñ—Å—Ç—å**:
   - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω—å
   - –í–∞—Ä—Ç—ñ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏
   - –°–µ—Ä–µ–¥–Ω—ñ–π —á–∞—Å –¥–æ—Å—Ç–∞–≤–∫–∏

### –û—Ç—Ä–∏–º–∞–Ω–Ω—è API –∫–ª—é—á–∞

#### –í–∏—Ä–æ–±–Ω–∏—á–∏–π –∫–ª—é—á (Production):
1. https://manager.paczkomaty.pl/
2. –°—Ç–≤–æ—Ä—ñ—Ç—å Organization
3. API Settings ‚Üí Generate Organization Token
4. –°–∫–æ–ø—ñ—é–π—Ç–µ —Ç–æ–∫–µ–Ω

#### –¢–µ—Å—Ç–æ–≤–∏–π –∫–ª—é—á (Sandbox):
1. https://sandbox-manager.paczkomaty.pl/
2. –ó–∞—Ä–µ—î—Å—Ç—Ä—É–π—Ç–µ—Å—è –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
3. –û—Ç—Ä–∏–º–∞–π—Ç–µ sandbox —Ç–æ–∫–µ–Ω

### –î–æ–ø–æ–º–æ–≥–∞

–î–µ—Ç–∞–ª—å–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è: `INPOST_INTEGRATION.md`

–ü—Ä–æ–±–ª–µ–º–∏ —Ç–∞ –ø–∏—Ç–∞–Ω–Ω—è:
- InPost Support: https://inpost.pl/pomoc
- API Docs: https://documentation-points-api.easypack24.net/

