# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ InPost —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó –∑–≥—ñ–¥–Ω–æ –∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—î—é

## üìã –î–∞—Ç–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏: 13.02.2026

## ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ —Ç–∞ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ:

### 1. **API Endpoint** ‚úÖ
- **–û—á—ñ–∫—É—î—Ç—å—Å—è:** `POST /v1/organizations/{organization_id}/shipments`
- **–†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ:** `POST {api_url}/organizations/{organization_id}/shipments`
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ

### 2. **Authorization Header** ‚úÖ
- **–û—á—ñ–∫—É—î—Ç—å—Å—è:** `Authorization: Bearer {token}` (–∑–≥—ñ–¥–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó)
- **–†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ:** `Authorization: Bearer {api_key}`
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ

### 3. **Content-Type Header** ‚úÖ
- **–û—á—ñ–∫—É—î—Ç—å—Å—è:** `Content-Type: application/json`
- **–†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ:** `Content-Type: application/json`
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ

### 4. **Payload —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ - parcels** ‚úÖ –í–ò–ü–†–ê–í–õ–ï–ù–û
- **–û—á—ñ–∫—É—î—Ç—å—Å—è (Postman):** `"parcels": { "template": "small" }` (–æ–±'—î–∫—Ç)
- **–ë—É–ª–æ:** `"parcels": [{ "template": "small", "is_non_standard": False }]` (–º–∞—Å–∏–≤)
- **–í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ:** `"parcels": { "template": "small" }` (–æ–±'—î–∫—Ç)
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ

### 5. **Payload —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ - receiver** ‚úÖ –í–ò–ü–†–ê–í–õ–ï–ù–û
- **–û—á—ñ–∫—É—î—Ç—å—Å—è (Postman):** 
  ```json
  {
    "first_name": "Jan",
    "last_name": "Kowalski",
    "email": "test@inpost.pl",
    "phone": "111222333"
  }
  ```
- **–ë—É–ª–æ:** `"name": "..."` (–æ–¥–Ω–µ –ø–æ–ª–µ)
- **–í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è –Ω–∞ `first_name` —Ç–∞ `last_name`
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ

### 6. **Payload —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ - sender** ‚úÖ –í–ò–ü–†–ê–í–õ–ï–ù–û
- **–û—á—ñ–∫—É—î—Ç—å—Å—è (Postman):**
  ```json
  {
    "first_name": "first_name",
    "last_name": "last_name",
    "email": "test@grupainteger.pl",
    "phone": "321321321",
    "address": { ... }
  }
  ```
- **–ë—É–ª–æ:** `"name": "..."` (–æ–¥–Ω–µ –ø–æ–ª–µ)
- **–í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è –Ω–∞ `first_name` —Ç–∞ `last_name`
- **–ü—Ä–∏–º—ñ—Ç–∫–∞:** Sender address –Ω–µ –¥–æ–¥–∞—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ (InPost –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –∞–¥—Ä–µ—Å—É –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º)
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ

### 7. **Payload —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ - custom_attributes** ‚úÖ
- **–û—á—ñ–∫—É—î—Ç—å—Å—è (Postman):**
  ```json
  {
    "sending_method": "dispatch_order",
    "target_point": "WAW478M"
  }
  ```
- **–†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ:** 
  ```json
  {
    "target_point": "KRA010"
  }
  ```
- **–ü—Ä–∏–º—ñ—Ç–∫–∞:** `sending_method` –∑–∞–ª–∏—à–µ–Ω–æ —è–∫ –æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–µ (–∑–∞–∫–æ–º–µ–Ω—Ç–æ–≤–∞–Ω–æ)
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ (sending_method –æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–µ)

### 8. **Payload —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ - service** ‚úÖ
- **–û—á—ñ–∫—É—î—Ç—å—Å—è:** `"service": "inpost_locker_standard"` –∞–±–æ `"inpost_courier_standard"`
- **–†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ:** –ü—Ä–∞–≤–∏–ª—å–Ω–æ –≤–∏–±–∏—Ä–∞—î—Ç—å—Å—è –Ω–∞ –æ—Å–Ω–æ–≤—ñ `delivery_type`
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ

### 9. **Payload —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ - insurance** ‚úÖ
- **–û—á—ñ–∫—É—î—Ç—å—Å—è (Postman):**
  ```json
  {
    "amount": 25,
    "currency": "PLN"
  }
  ```
- **–†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ:** –ü—Ä–∞–≤–∏–ª—å–Ω–æ
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ

### 10. **Payload —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ - cod** ‚úÖ
- **–û—á—ñ–∫—É—î—Ç—å—Å—è (Postman):**
  ```json
  {
    "amount": 12.50,
    "currency": "PLN"
  }
  ```
- **–†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ:** –ü—Ä–∞–≤–∏–ª—å–Ω–æ
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ

### 11. **Payload —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ - reference** ‚úÖ
- **–û—á—ñ–∫—É—î—Ç—å—Å—è:** `"reference": "Test"` (string)
- **–†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ:** `"reference": str(shipment.id)`
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ

### 12. **Payload —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ - receiver address (–¥–ª—è courier)** ‚úÖ
- **–û—á—ñ–∫—É—î—Ç—å—Å—è:** 
  ```json
  {
    "street": "...",
    "building_number": "...",
    "city": "...",
    "post_code": "...",
    "country_code": "PL",
    "flat_number": "..." // –æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ
  }
  ```
- **–†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ:** –ü—Ä–∞–≤–∏–ª—å–Ω–æ
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ

### 13. **Organization ID –≤ URL** ‚úÖ
- **–û—á—ñ–∫—É—î—Ç—å—Å—è:** `GET /v1/organizations/:id` (–∑–≥—ñ–¥–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó)
- **–†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ:** `POST /v1/organizations/{organization_id}/shipments`
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ

## ‚ö†Ô∏è –í—ñ–¥–º—ñ–Ω–Ω–æ—Å—Ç—ñ –≤—ñ–¥ Postman –∫–æ–ª–µ–∫—Ü—ñ—ó (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ñ):

1. **external_customer_id** - –Ω–µ –¥–æ–¥–∞—î—Ç—å—Å—è (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–µ –ø–æ–ª–µ)
2. **sending_method** –≤ custom_attributes - –∑–∞–ª–∏—à–µ–Ω–æ —è–∫ –æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–µ
3. **sender.address** - –Ω–µ –¥–æ–¥–∞—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ (InPost –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –∞–¥—Ä–µ—Å—É –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó)

## üìù –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –≤–Ω–µ—Å–µ–Ω—ñ:

### –§–∞–π–ª: `backend/modules/postal_services/service.py`

1. ‚úÖ –ó–º—ñ–Ω–µ–Ω–æ `parcels` –∑ –º–∞—Å–∏–≤—É –Ω–∞ –æ–±'—î–∫—Ç
2. ‚úÖ –î–æ–¥–∞–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è `receiver.name` –Ω–∞ `first_name` —Ç–∞ `last_name`
3. ‚úÖ –î–æ–¥–∞–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è `sender.name` –Ω–∞ `first_name` —Ç–∞ `last_name`
4. ‚úÖ –î–æ–¥–∞–Ω–æ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ –ø—Ä–æ –æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ –ø–æ–ª—è

## üîç –î–æ–¥–∞—Ç–∫–æ–≤—ñ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏:

### Webhook –æ–±—Ä–æ–±–∫–∞ ‚úÖ
- Endpoint: `POST /api/v1/postal-services/inpost/webhook`
- –í–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—è —á–µ—Ä–µ–∑ `X-Webhook-Secret` header
- –û–±—Ä–æ–±–∫–∞ –ø–æ–¥—ñ–π: `status.updated`, `shipment.updated`
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ

### –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –∑ finance.shipments ‚úÖ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑–∞–ø–∏—Å—É –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ InPost –ø–æ—Å–∏–ª–∫–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞—Ç—É—Å—É –ø—Ä–∏ webhook –ø–æ–¥—ñ—è—Ö
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ

### –í—ñ–¥–ø—Ä–∞–≤–∫–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ —á–∞—Ç ‚úÖ
- –°—Ç–≤–æ—Ä—é—î—Ç—å—Å—è draft –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ tracking_number —Ç–∞ tracking_url
- –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–æ–∂–µ –≤—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ –∫–ª—ñ—î–Ω—Ç—É
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ

## ‚úÖ –ü—ñ–¥—Å—É–º–æ–∫:

**–í—Å—ñ –∫—Ä–∏—Ç–∏—á–Ω—ñ –Ω–µ–≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ—Å—Ç—ñ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ!**

- ‚úÖ API endpoint –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π
- ‚úÖ Headers –ø—Ä–∞–≤–∏–ª—å–Ω—ñ
- ‚úÖ Payload —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó
- ‚úÖ Parcels –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ (–æ–±'—î–∫—Ç –∑–∞–º—ñ—Å—Ç—å –º–∞—Å–∏–≤—É)
- ‚úÖ Receiver/Sender —ñ–º–µ–Ω–∞ —Ä–æ–∑–¥—ñ–ª—è—é—Ç—å—Å—è –Ω–∞ first_name/last_name
- ‚úÖ Webhook –æ–±—Ä–æ–±–∫–∞ –ø—Ä–∞—Ü—é—î
- ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –∑ finance.shipments –ø—Ä–∞—Ü—é—î

## üöÄ –ì–æ—Ç–æ–≤–æ –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è!

---

**–î–∞—Ç–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏:** 13.02.2026  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å—ñ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –≤–Ω–µ—Å–µ–Ω—ñ, –∫–æ–¥ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó InPost API

