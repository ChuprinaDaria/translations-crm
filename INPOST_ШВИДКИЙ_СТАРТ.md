# InPost - –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

## üìã –©–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:

### –û–±–æ–≤'—è–∑–∫–æ–≤—ñ –¥–∞–Ω—ñ:
1. **API Key (Organization Token)** - JWT —Ç–æ–∫–µ–Ω –¥–ª—è API –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó
2. **Organization ID** - —á–∏—Å–ª–æ–≤–∏–π ID –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó

### –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ):
3. **Sandbox API Key** - JWT —Ç–æ–∫–µ–Ω –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
4. **Webhook URL** - –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏—Ö –æ–Ω–æ–≤–ª–µ–Ω—å
5. **Webhook Secret** - –¥–ª—è –±–µ–∑–ø–µ–∫–∏ webhook (–ù–ï –¥–ª—è API –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó!)
6. **–î–∞–Ω—ñ –≤—ñ–¥–ø—Ä–∞–≤–Ω–∏–∫–∞** - —ñ–º'—è, email, —Ç–µ–ª–µ—Ñ–æ–Ω

### ‚ö†Ô∏è –í–ê–ñ–õ–ò–í–û - —Ä—ñ–∑–Ω–∏—Ü—è –º—ñ–∂ –ø–æ–ª—è–º–∏:
- **API Key**: JWT —Ç–æ–∫–µ–Ω (–¥–æ–≤–≥–∏–π —Ä—è–¥–æ–∫ ~200+ —Å–∏–º–≤–æ–ª—ñ–≤) –¥–ª—è –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó API –∑–∞–ø–∏—Ç—ñ–≤
- **Organization ID**: –ß–∏—Å–ª–æ–≤–∏–π ID (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥ `124089`) –¥–ª—è –ø–æ–±—É–¥–æ–≤–∏ URL –∑–∞–ø–∏—Ç—ñ–≤
- **Webhook Secret**: –°–µ–∫—Ä–µ—Ç–Ω–∏–π –∫–ª—é—á —Ç—ñ–ª—å–∫–∏ –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ webhook –∑–∞–ø–∏—Ç—ñ–≤ –≤—ñ–¥ InPost

---

## üöÄ –®–≤–∏–¥–∫–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è (5 –∫—Ä–æ–∫—ñ–≤):

### –ö—Ä–æ–∫ 1: –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –≤ InPost
1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ https://inpost.pl/
2. –°—Ç–≤–æ—Ä—ñ—Ç—å –∞–∫–∞—É–Ω—Ç –∞–±–æ —É–≤—ñ–π–¥—ñ—Ç—å
3. –°—Ç–≤–æ—Ä—ñ—Ç—å **Organization** –≤ –ø–∞–Ω–µ–ª—ñ

### –ö—Ä–æ–∫ 2: –û—Ç—Ä–∏–º–∞–Ω–Ω—è API –∫–ª—é—á–∞ —Ç–∞ Organization ID
1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å: **API Settings** (–∞–±–æ **Ustawienia API**)
2. –ó–≥–µ–Ω–µ—Ä—É–π—Ç–µ **Organization Token** (JWT —Ç–æ–∫–µ–Ω - –¥–æ–≤–≥–∏–π —Ä—è–¥–æ–∫)
3. –°–∫–æ–ø—ñ—é–π—Ç–µ **JWT —Ç–æ–∫–µ–Ω** –ø–æ–≤–Ω—ñ—Å—Ç—é
4. –ó–Ω–∞–π–¥—ñ—Ç—å —Ç–∞ —Å–∫–æ–ø—ñ—é–π—Ç–µ **Organization ID** (—á–∏—Å–ª–æ–≤–∏–π ID, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥ `124089`)

### –ö—Ä–æ–∫ 3: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤ CRM
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ: **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è ‚Üí InPost**
2. –í—Å—Ç–∞–≤—Ç–µ **JWT —Ç–æ–∫–µ–Ω** –≤ –ø–æ–ª–µ "Production API Key"
3. –í—Å—Ç–∞–≤—Ç–µ **Organization ID** –≤ –ø–æ–ª–µ "Organization ID"
4. –£–≤—ñ–º–∫–Ω—ñ—Ç—å —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—é (—á–µ–∫–±–æ–∫—Å)
5. –ó–±–µ—Ä–µ–∂—ñ—Ç—å

**–ü—Ä–∏–∫–ª–∞–¥:**
- API Key: `eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InNCW...` (–¥–æ–≤–≥–∏–π JWT —Ç–æ–∫–µ–Ω)
- Organization ID: `124089` (—á–∏—Å–ª–æ–≤–∏–π ID)

### –ö—Ä–æ–∫ 4: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
1. –£–≤—ñ–º–∫–Ω—ñ—Ç—å **Sandbox —Ä–µ–∂–∏–º**
2. –û—Ç—Ä–∏–º–∞–π—Ç–µ **Sandbox API Key** –≤ –ø–∞–Ω–µ–ª—ñ InPost
3. –í—Å—Ç–∞–≤—Ç–µ –≤ –ø–æ–ª–µ "Sandbox API Key"
4. –ó–±–µ—Ä–µ–∂—ñ—Ç—å

### –ö—Ä–æ–∫ 5: Webhook (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)
1. –ó–≥–µ–Ω–µ—Ä—É–π—Ç–µ –≤–∏–ø–∞–¥–∫–æ–≤–∏–π **Webhook Secret** (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: `my-secret-key-123`)
2. –í –ø–∞–Ω–µ–ª—ñ InPost: **API Settings ‚Üí Webhooks**
3. –î–æ–¥–∞–π—Ç–µ webhook:
   - **URL:** `https://your-domain.com/api/v1/postal-services/inpost/webhook`
   - **Secret:** –≤–∞—à –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–∏–π –∫–ª—é—á
   - **Events:** –≤–∏–±–µ—Ä—ñ—Ç—å `status.updated`, `shipment.updated`
4. –í CRM –≤–≤–µ–¥—ñ—Ç—å —Ç–æ–π —Å–∞–º–∏–π URL —Ç–∞ Secret
5. –ó–±–µ—Ä–µ–∂—ñ—Ç—å

---

## üìù –§–æ—Ä–º–∞—Ç–∏ URL:

### Webhook URL:
```
https://your-domain.com/api/v1/postal-services/inpost/webhook
```

**–ó–∞–º—ñ–Ω—ñ—Ç—å `your-domain.com` –Ω–∞ –∞–¥—Ä–µ—Å—É –≤–∞—à–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞!**

---

## ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:

–ü—ñ—Å–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ:
- ‚úÖ API Key - —Ü–µ JWT —Ç–æ–∫–µ–Ω (–¥–æ–≤–≥–∏–π —Ä—è–¥–æ–∫ ~200+ —Å–∏–º–≤–æ–ª—ñ–≤)
- ‚úÖ Organization ID - —Ü–µ —á–∏—Å–ª–æ–≤–∏–π ID
- ‚úÖ –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è —É–≤—ñ–º–∫–Ω–µ–Ω–∞
- ‚úÖ Webhook URL –¥–æ—Å—Ç—É–ø–Ω–∏–π –∑ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç—É (—è–∫—â–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ)
- ‚úÖ Webhook Secret —Å–ø—ñ–≤–ø–∞–¥–∞—î –≤ –æ–±–æ—Ö –º—ñ—Å—Ü—è—Ö (—è–∫—â–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ)

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —á–µ—Ä–µ–∑ –ª–æ–≥–∏:
```bash
docker-compose logs -f backend | grep -i inpost
```

–®—É–∫–∞–π—Ç–µ:
- ‚úÖ `[InPost] get_api_key: Using api_key (JWT token), length: XXX` (–¥–µ XXX > 200)
- ‚úÖ `[InPost] Response status: 200` –∞–±–æ `201`
- ‚ùå –Ø–∫—â–æ –±–∞—á–∏—Ç–µ `401 - Token is missing or invalid` - –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ API Key

---

## üîó –ö–æ—Ä–∏—Å–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è:

- **InPost:** https://inpost.pl/
- **API Documentation:** https://documentation-points-api.easypack24.net/
- **ShipX API:** https://api-shipx-pl.easypack24.net/v1/
- **Sandbox API:** https://sandbox-api-shipx-pl.easypack24.net/v1/
- **–ü—ñ–¥—Ç—Ä–∏–º–∫–∞:** https://inpost.pl/pomoc
- **Email API:** api@inpost.pl

---

## ‚ùì –ß–∞—Å—Ç—ñ –ø–∏—Ç–∞–Ω–Ω—è:

**Q: –î–µ –∑–Ω–∞–π—Ç–∏ Organization Token?**  
A: –ü–∞–Ω–µ–ª—å InPost ‚Üí API Settings ‚Üí Organization Token

**Q: –ß–∏ –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π webhook?**  
A: –ù—ñ, –∞–ª–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞—Ç—É—Å—ñ–≤

**Q: –Ø–∫ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏?**  
A: –£–≤—ñ–º–∫–Ω—ñ—Ç—å Sandbox —Ä–µ–∂–∏–º —Ç–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ sandbox API key

**Q: Webhook –Ω–µ –ø—Ä–∞—Ü—é—î?**  
A: –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ:
- URL –¥–æ—Å—Ç—É–ø–Ω–∏–π –∑ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç—É (HTTPS)
- Webhook Secret —Å–ø—ñ–≤–ø–∞–¥–∞—î
- URL –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –≤ –ø–∞–Ω–µ–ª—ñ InPost

---

## üéØ –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è (–±–µ–∑ webhook):

–Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ —à–≤–∏–¥–∫–æ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –±–µ–∑ webhook:

1. ‚úÖ API Key (JWT —Ç–æ–∫–µ–Ω) - –æ—Ç—Ä–∏–º–∞–π—Ç–µ –∑ –ø–∞–Ω–µ–ª—ñ InPost
2. ‚úÖ Organization ID (—á–∏—Å–ª–æ–≤–∏–π ID) - –æ—Ç—Ä–∏–º–∞–π—Ç–µ –∑ –ø–∞–Ω–µ–ª—ñ InPost
3. ‚úÖ –£–≤—ñ–º–∫–Ω—É—Ç–∏ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—é
4. ‚úÖ –ó–±–µ—Ä–µ–≥—Ç–∏

**–ü—Ä–∏–º—ñ—Ç–∫–∞:** –ë–µ–∑ webhook —Å—Ç–∞—Ç—É—Å–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ –±—É–¥–µ –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ –≤—Ä—É—á–Ω—É –∞–±–æ —á–µ—Ä–µ–∑ API.

---

## üÜò –ü—Ä–æ–±–ª–µ–º–∏ –∑ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è–º?

–Ø–∫—â–æ –±–∞—á–∏—Ç–µ –ø–æ–º–∏–ª–∫—É `401 - Token is missing or invalid`:
1. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ API Key - —Ü–µ JWT —Ç–æ–∫–µ–Ω (–¥–æ–≤–≥–∏–π —Ä—è–¥–æ–∫), –∞ –ù–ï organization ID
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ —Ç–æ–∫–µ–Ω —Å–∫–æ–ø—ñ–π–æ–≤–∞–Ω–æ –ø–æ–≤–Ω—ñ—Å—Ç—é
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ç–µ—Ä–º—ñ–Ω –¥—ñ—ó —Ç–æ–∫–µ–Ω–∞
4. –î–∏–≤—ñ—Ç—å—Å—è –¥–µ—Ç–∞–ª—å–Ω—É —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—é: `–Ü–ù–°–¢–†–£–ö–¶–Ü–Ø_–í–ò–ü–†–ê–í–õ–ï–ù–ù–Ø_INPOST.md`

---

*–î–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –¥–∏–≤—ñ—Ç—å—Å—è: –ù–ê–õ–ê–®–¢–£–í–ê–ù–ù–Ø_–Ü–ù–¢–ï–ì–†–ê–¶–Ü–ô.md*

