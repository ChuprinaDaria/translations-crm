# –ê–Ω–∞–ª—ñ–∑ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ—Å—Ç—ñ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –∫–æ–¥—É CSV –¥–∞–Ω–∏–º

## üìä –ü–æ—Ç–æ—á–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ vs CSV –≤–∏–º–æ–≥–∏

### ‚úÖ –©–æ –≤–∂–µ —î –≤ –∫–æ–¥—ñ:

#### 1. **Orders (–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è)** - –¢–∞–±–ª–∏—Ü—è `crm_orders`
**CSV –ø–æ–ª—è:**
- ‚úÖ `Data` ‚Üí `created_at` (–¥–∞—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è)
- ‚úÖ `Numer_zlecenia` ‚Üí `order_number` (–Ω–æ–º–µ—Ä –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è)
- ‚úÖ `Klient` ‚Üí `client_id` (–∑–≤'—è–∑–æ–∫ –∑ –∫–ª—ñ—î–Ω—Ç–æ–º)
- ‚úÖ `Telefon` ‚Üí `client.phone` (—á–µ—Ä–µ–∑ –∑–≤'—è–∑–æ–∫)
- ‚úÖ `Email` ‚Üí `client.email` (—á–µ—Ä–µ–∑ –∑–≤'—è–∑–æ–∫)
- ‚úÖ `Jezyk` ‚Üí `language` (–º–æ–≤–∞ –ø–µ—Ä–µ–∫–ª–∞–¥—É)
- ‚úÖ `Dokument` ‚Üí `translation_type` (—Ç–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç–∞)
- ‚úÖ `Zrodlo` ‚Üí `order_source` (–¥–æ–¥–∞–Ω–æ –≤ –º—ñ–≥—Ä–∞—Ü—ñ—ó)
- ‚úÖ `Cena_netto` ‚Üí `price_netto` (–¥–æ–¥–∞–Ω–æ –≤ –º—ñ–≥—Ä–∞—Ü—ñ—ó)
- ‚úÖ `Cena_brutto` ‚Üí `price_brutto` (–¥–æ–¥–∞–Ω–æ –≤ –º—ñ–≥—Ä–∞—Ü—ñ—ó)
- ‚úÖ `Kod_ref` ‚Üí `reference_code` (–¥–æ–¥–∞–Ω–æ –≤ –º—ñ–≥—Ä–∞—Ü—ñ—ó)
- ‚úÖ `Nr_repertorium` ‚Üí `repertorium_number` (–¥–æ–¥–∞–Ω–æ –≤ –º—ñ–≥—Ä–∞—Ü—ñ—ó)
- ‚úÖ `Ponowny_kontakt` ‚Üí `follow_up_date` (–¥–æ–¥–∞–Ω–æ –≤ –º—ñ–≥—Ä–∞—Ü—ñ—ó)

#### 2. **Languages (–ú–æ–≤–∏)** - –¢–∞–±–ª–∏—Ü—è `languages`
**–í—Å—ñ 28 –º–æ–≤ –∑ CSV –≤–∂–µ —î –≤ –±–∞–∑—ñ:**
- ‚úÖ Angielski (60 PLN)
- ‚úÖ Ukrai≈Ñski (60 PLN)
- ‚úÖ Rosyjski (60 PLN)
- ‚úÖ Niemiecki (70 PLN)
- ‚úÖ Hiszpa≈Ñski (70 PLN)
- ‚úÖ Francuski (70 PLN)
- ‚úÖ Bia≈Çoruski (120 PLN)
- ‚úÖ Litewski (85 PLN) - TRC
- ‚úÖ ≈Åotewski (85 PLN) - TRC
- ‚úÖ W≈Çoski (70 PLN)
- ‚úÖ Gruzi≈Ñski (100 PLN)
- ‚úÖ Portugalski (80 PLN)
- ‚úÖ Bu≈Çgarski (80 PLN)
- ‚úÖ Wƒôgierski (120 PLN) - TRC
- ‚úÖ Niderlandzki (90 PLN)
- ‚úÖ Chi≈Ñski (200 PLN)
- ‚úÖ Japo≈Ñski (180 PLN)
- ‚úÖ Czeski (80 PLN)
- ‚úÖ Turecki (150 PLN)
- ‚úÖ Rumu≈Ñski (80 PLN) - TRC
- ‚úÖ S≈Çowacki (70 PLN)
- ‚úÖ Fi≈Ñski (100 PLN)
- ‚úÖ Du≈Ñski (100 PLN)
- ‚úÖ Grecki (150 PLN)
- ‚úÖ Chorwacki (80 PLN) - TRC
- ‚úÖ Indonezyjski (200 PLN)
- ‚úÖ Arabski (200 PLN)
- ‚úÖ Perski (150 PLN)
- ‚úÖ Wietnamski (200 PLN)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
- `id` - ID –º–æ–≤–∏
- `name_pl` - –ù–∞–∑–≤–∞ –ø–æ–ª—å—Å—å–∫–æ—é
- `name_en` - –ù–∞–∑–≤–∞ –∞–Ω–≥–ª—ñ–π—Å—å–∫–æ—é
- `base_client_price` - –ë–∞–∑–æ–≤–∞ —Ü—ñ–Ω–∞ –¥–ª—è –∫–ª—ñ—î–Ω—Ç–∞ (PLN)
- `is_active` - –ß–∏ –∞–∫—Ç–∏–≤–Ω–∞ –º–æ–≤–∞

#### 3. **Translators (–ü–µ—Ä–µ–∫–ª–∞–¥–∞—á—ñ)** - –¢–∞–±–ª–∏—Ü—è `translators`
**CSV –ø–æ–ª—è:**
- ‚úÖ `Tlumacz` ‚Üí `translator.name` (—ñ–º'—è –ø–µ—Ä–µ–∫–ª–∞–¥–∞—á–∞)
- ‚úÖ –ö–æ–Ω—Ç–∞–∫—Ç–∏: `email`, `phone`, `telegram_id`, `whatsapp`
- ‚úÖ –°—Ç–∞—Ç—É—Å: `status` (active, inactive, busy)
- ‚úÖ –†–µ–π—Ç–∏–Ω–≥: `rating`
- ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω—ñ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è: `completed_orders`

#### 4. **Translator_Languages (–ó–≤'—è–∑–æ–∫ –ø–µ—Ä–µ–∫–ª–∞–¥–∞—á-–º–æ–≤–∞)** - –¢–∞–±–ª–∏—Ü—è `translator_language_rates`
**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ many-to-many:**
- ‚úÖ `translator_id` - ID –ø–µ—Ä–µ–∫–ª–∞–¥–∞—á–∞
- ‚úÖ `language_id` - ID –º–æ–≤–∏
- ‚úÖ `specialization_id` - ID —Å–ø–µ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó (TRC, Umowy, Szkolne...)
- ‚úÖ `translator_rate` - –°—Ç–∞–≤–∫–∞ –ø–µ—Ä–µ–∫–ª–∞–¥–∞—á–∞ –∑–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É
- ‚úÖ `custom_client_price` - –ö–∞—Å—Ç–æ–º–Ω–∞ —Ü—ñ–Ω–∞ –¥–ª—è –∫–ª—ñ—î–Ω—Ç–∞ (—è–∫—â–æ –≤—ñ–¥—Ä—ñ–∑–Ω—è—î—Ç—å—Å—è)
- ‚úÖ `notes` - –ü—Ä–∏–º—ñ—Ç–∫–∏

**–£–Ω—ñ–∫–∞–ª—å–Ω–∏–π constraint:** `(translator_id, language_id, specialization_id)`

#### 5. **Specializations (–¢–∏–ø–∏ –ø–µ—Ä–µ–∫–ª–∞–¥—ñ–≤)** - –¢–∞–±–ª–∏—Ü—è `specializations`
**–ë–∞–∑–æ–≤—ñ —Ç–∏–ø–∏:**
- ‚úÖ TRC (T≈Çumaczenie przysiƒôg≈Çe)
- ‚úÖ Umowy (Umowy i kontrakty)
- ‚úÖ Szkolne (Dokumenty szkolne)
- ‚úÖ Dyplomy (Dyplomy i certyfikaty)
- ‚úÖ Medyczne (Dokumenty medyczne)
- ‚úÖ Prawne (Dokumenty prawne)
- ‚úÖ Biznesowe (Dokumenty biznesowe)
- ‚úÖ Techniczne (Dokumenty techniczne)
- ‚úÖ Za≈õwiadczenie (–¥–æ–¥–∞–Ω–æ –≤ –º—ñ–≥—Ä–∞—Ü—ñ—ó)
- ‚úÖ Samochodowe (–¥–æ–¥–∞–Ω–æ –≤ –º—ñ–≥—Ä–∞—Ü—ñ—ó)

### üìù –í—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ—Å—Ç—å CSV —Å—Ç—Ä—É–∫—Ç—É—Ä–∏:

| CSV –ø–æ–ª–µ | –¢–∞–±–ª–∏—Ü—è/–ü–æ–ª–µ | –°—Ç–∞—Ç—É—Å |
|----------|--------------|--------|
| csvNr | - | –ù–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ (–∞–≤—Ç–æ—ñ–Ω–∫—Ä–µ–º–µ–Ω—Ç) |
| Data | `crm_orders.created_at` | ‚úÖ |
| Ponowny_kontakt | `crm_orders.follow_up_date` | ‚úÖ –î–æ–¥–∞–Ω–æ |
| Numer_zlecenia | `crm_orders.order_number` | ‚úÖ |
| Zrodlo | `crm_orders.order_source` | ‚úÖ –î–æ–¥–∞–Ω–æ |
| Dokument | `crm_orders.translation_type` | ‚úÖ |
| Klient | `crm_clients.full_name` | ‚úÖ |
| Telefon | `crm_clients.phone` | ‚úÖ |
| Email | `crm_clients.email` | ‚úÖ |
| Kod_ref | `crm_orders.reference_code` | ‚úÖ –î–æ–¥–∞–Ω–æ |
| Nr_repertorium | `crm_orders.repertorium_number` | ‚úÖ –î–æ–¥–∞–Ω–æ |
| Cena_netto | `crm_orders.price_netto` | ‚úÖ –î–æ–¥–∞–Ω–æ |
| Cena_brutto | `crm_orders.price_brutto` | ‚úÖ –î–æ–¥–∞–Ω–æ |
| Uwagi | `crm_orders.description` | ‚úÖ |
| Jezyk | `crm_orders.language` + `languages.name_pl` | ‚úÖ |
| Tlumacz | `translators.name` | ‚úÖ |

### üîß –©–æ –±—É–ª–æ –¥–æ–¥–∞–Ω–æ:

1. **–ú—ñ–≥—Ä–∞—Ü—ñ—è `add_order_csv_fields.sql`:**
   - `price_netto` - –¶—ñ–Ω–∞ –Ω–µ—Ç—Ç–æ
   - `price_brutto` - –¶—ñ–Ω–∞ –±—Ä—É—Ç—Ç–æ
   - `reference_code` - –ö–æ–¥ —Ä–µ—Ñ–µ—Ä–µ–Ω—Ü—ñ–π–Ω–∏–π
   - `repertorium_number` - –ù–æ–º–µ—Ä —Ä–µ–ø–µ—Ä—Ç–æ—Ä—ñ—é
   - `follow_up_date` - –î–∞—Ç–∞ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∫–æ–Ω—Ç–∞–∫—Ç—É
   - `order_source` - –î–∂–µ—Ä–µ–ª–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è

2. **–ú—ñ–≥—Ä–∞—Ü—ñ—è `add_missing_specializations.sql`:**
   - `Za≈õwiadczenie` - –¢–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç–∞
   - `Samochodowe` - –¢–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç–∞

3. **–û–Ω–æ–≤–ª–µ–Ω–∞ –º–æ–¥–µ–ª—å `Order`:**
   - –î–æ–¥–∞–Ω–æ –≤—Å—ñ –Ω–æ–≤—ñ –ø–æ–ª—è –≤ –º–æ–¥–µ–ª—å

### ‚úÖ –í–∏—Å–Ω–æ–≤–æ–∫:

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥—É –ø–æ–≤–Ω—ñ—Å—Ç—é –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î CSV –¥–∞–Ω–∏–º!**

- ‚úÖ –í—Å—ñ 3 —Ç–∞–±–ª–∏—Ü—ñ —ñ—Å–Ω—É—é—Ç—å: Orders, Languages, Translators
- ‚úÖ –ó–≤'—è–∑–æ–∫ many-to-many —á–µ—Ä–µ–∑ `translator_language_rates`
- ‚úÖ –í—Å—ñ 28 –º–æ–≤ –∑ –ø—Ä–∞–π—Å-–ª–∏—Å—Ç—É —î –≤ –±–∞–∑—ñ
- ‚úÖ –í—Å—ñ —Ç–∏–ø–∏ –ø–µ—Ä–µ–∫–ª–∞–¥—ñ–≤ (—Å–ø–µ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó) —î –≤ –±–∞–∑—ñ
- ‚úÖ –í—Å—ñ –ø–æ–ª—è –∑ CSV —Ç–µ–ø–µ—Ä —î –≤ –º–æ–¥–µ–ª—ñ Order

### üìã –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏:

1. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –º—ñ–≥—Ä–∞—Ü—ñ—ó:
   ```sql
   \i database/migrations/add_order_csv_fields.sql
   \i database/migrations/add_missing_specializations.sql
   ```

2. –û–Ω–æ–≤–∏—Ç–∏ —Å—Ö–µ–º–∏ (schemas.py) –¥–ª—è –Ω–æ–≤–∏—Ö –ø–æ–ª—ñ–≤ Order

3. –û–Ω–æ–≤–∏—Ç–∏ API endpoints –¥–ª—è –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ –Ω–æ–≤–∏—Ö –ø–æ–ª—ñ–≤

4. –û–Ω–æ–≤–∏—Ç–∏ frontend –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –Ω–æ–≤–∏—Ö –ø–æ–ª—ñ–≤

